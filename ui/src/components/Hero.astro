---
 import photo1 from "../assets/photo_2025-11-25 18.15.14.jpeg";
import photo2 from "../assets/photo_2025-11-25 18.15.34.jpeg";
import photo3 from "../assets/photo_2025-11-25 18.15.30.jpeg";
import photo4 from "../assets/photo_2025-11-25 18.15.39.jpeg";
import photo5 from "../assets/photo_2025-11-25 18.15.43.jpeg";

// Componente Hero con información principal de la boda
const carouselImages = [
  { src: photo1, alt: "Sheila y Habib – Momento especial 1" },
  { src: photo2, alt: "Sheila y Habib – Momento especial 2" },
  { src: photo3, alt: "Sheila y Habib – Momento especial 3" },
  { src: photo4, alt: "Sheila y Habib – Momento especial 4" },
  { src: photo5, alt: "Sheila y Habib – Momento especial 5" },
];
---

<section
  class="relative min-h-[60vh] flex items-center justify-center overflow-hidden"
>
  <!-- Background con carrusel de imágenes -->
  <div class="absolute inset-0">
    <div id="hero-carousel" class="w-full h-full relative overflow-hidden">
      {
        carouselImages.map((image, index) => (
          <div
            class={`carousel-slide absolute inset-0 transition-opacity duration-1000 ${
              index === 0 ? "opacity-100" : "opacity-0"
            }`}
          >
            <img
              src={image.src.src ?? image.src}
              alt={image.alt}
              class="w-full h-full object-cover"
            />
          </div>
        ))
      }
    </div>

    <!-- Overlay oscuro -->
    <div class="absolute inset-0 bg-black/40"></div>

    <!-- Indicadores del carrusel -->
    <div
      class="absolute bottom-10 left-1/2 transform -translate-x-1/2 z-10 flex space-x-2"
    >
      {
        carouselImages.map((_, index) => (
          <button
            class={`carousel-indicator w-2 h-2 rounded-full bg-white/50 hover:bg-white/80 transition-colors ${
              index === 0 ? "active bg-white/80" : ""
            }`}
            data-slide={index}
          />
        ))
      }
    </div>
  </div>

  <!-- Navegación superior -->
  <nav class="absolute top-0 left-0 right-0 z-20 p-6">
    <div class="max-w-6xl mx-auto flex justify-between items-center">
      <div class="hidden sm:block text-white font-serif text-xl">S & H</div>
      <div class="hidden md:flex space-x-8 text-white text-sm font-medium">
        <a href="#inicio" class="hover:text-gold transition-colors">Inicio</a>
        <a href="#historia" class="hover:text-gold transition-colors">Nuestra Historia</a>
        <a href="#evento" class="hover:text-gold transition-colors">El Evento</a>
        <a href="#viaje" class="hover:text-gold transition-colors">Viaje</a>
        <a href="#rsvp" class="hover:text-gold transition-colors">RSVP</a>
      </div>
    </div>
  </nav>

  <!-- Contenido principal -->
  <div class="relative z-10 text-center px-4 max-w-4xl mx-auto text-white">
    <!-- Nombres de los novios -->
    <h1 class="font-serif text-6xl md:text-8xl font-light mb-6 tracking-wide">
      Sheila & Habib
    </h1>

    <!-- Mensaje de bienvenida -->
    <p
      class="text-xl md:text-2xl font-light mb-8 max-w-2xl mx-auto leading-relaxed"
    >
      Acompáñanos a celebrar nuestro día especial
    </p>

    <!-- Fecha del evento -->
    <div class="mb-12">
      <p class="text-2xl md:text-3xl font-serif mb-2">4 de Julio, 2026</p>
      <p class="text-lg font-light tracking-wider">LUCENA, CÓRDOBA</p>
    </div>

    <!-- Botón RSVP destacado -->
    <a
      href="/rsvp/login"
      class="
        cta-bounce
        inline-flex items-center justify-center
        text-text-inverse bg-accent
        px-10 py-2
        text-[12px] font-medium
        border border-white/20
        shadow-[0_12px_30px_rgba(0,0,0,0.18)]
        transition-all duration-300
        hover:brightness-95 hover:shadow-[0_16px_38px_rgba(0,0,0,0.22)]
        hover:-translate-y-0.5
        focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-0
        uppercase
        tracking-[0.25em]
      "
    >
      Confirmar Asistencia
    </a>

    </div>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const slides = document.querySelectorAll(".carousel-slide");
    const indicators = document.querySelectorAll(".carousel-indicator");
    let currentSlide = 0;

    // Función para cambiar slide
    function changeSlide(newSlide: number) {
      // Ocultar slide actual
      slides[currentSlide]?.classList.remove("opacity-100");
      slides[currentSlide]?.classList.add("opacity-0");
      indicators[currentSlide]?.classList.remove("active", "bg-white/80");
      indicators[currentSlide]?.classList.add("bg-white/50");

      // Mostrar nuevo slide
      currentSlide = newSlide;
      slides[currentSlide]?.classList.remove("opacity-0");
      slides[currentSlide]?.classList.add("opacity-100");
      indicators[currentSlide]?.classList.remove("bg-white/50");
      indicators[currentSlide]?.classList.add("active", "bg-white/80");
    }

    // Auto-play del carrusel
    function nextSlide() {
      const next = (currentSlide + 1) % slides.length;
      changeSlide(next);
    }

    // Iniciar auto-play
    let autoPlay = setInterval(nextSlide, 5000);

    // Event listeners para los indicadores
    indicators.forEach((indicator, index) => {
      indicator.addEventListener("click", () => {
        clearInterval(autoPlay);
        changeSlide(index);
        // Reiniciar auto-play después de interacción
        autoPlay = setInterval(nextSlide, 5000);
      });
    });

    // Pausar auto-play cuando el mouse está sobre el carrusel
    const carousel = document.getElementById("hero-carousel");
    carousel?.addEventListener("mouseenter", () => {
      clearInterval(autoPlay);
    });

    carousel?.addEventListener("mouseleave", () => {
      autoPlay = setInterval(nextSlide, 5000);
    });
  });
</script>

<style>
  .carousel-indicator.active {
    background-color: rgba(255, 255, 255, 0.8);
  }

  .cta-bounce {
    animation: cta-bounce 2.6s ease-in-out infinite;
    will-change: transform;
  }

  @keyframes cta-bounce {
    0%,
    100% {
      transform: translateY(0);
    }
    12% {
      transform: translateY(-6px);
    }
    24% {
      transform: translateY(0);
    }
    36% {
      transform: translateY(-3px);
    }
    48% {
      transform: translateY(0);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .cta-bounce {
      animation: none;
    }
  }
</style>
